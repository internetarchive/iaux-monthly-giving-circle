<!doctype html>
<html>
<head>
  <title>Monthly Giving Circle demo</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    html {
      font-size: 62.5%;
    }

    body {
      margin: 0;
      padding: 0;
      color: #333;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-size: 14px;
      line-height: 1.42857143;
    }
    
    body .dev-tools {
      background-color: aliceblue;
      margin: 0 0 20px 0;
      min-height: 50px;
    }

    body #demo {
      padding: 1em;
    }
  </style>


</head>
<body>
  <header>
  </header>
  <div class="dev-tools">
    <div id="options">
      <button id="toggle-receipts">Toggle Receipts</button>
    </div>
  </div>

  <div id="demo">
    <iaux-monthly-giving-circle></iaux-monthly-giving-circle>
  </div>

  <script type="module" src="../dist/src/monthly-giving-circle.js"></script>
  <script type="module">
    const receiptsData = [
        {
          amount: 100,
          date: '2020-01-01',
          donor: 'John Doe',
          paymentMethod: 'Credit Card',
          status: 'Completed'
        },
        {
          amount: 100,
          date: '2023-02-01',
          donor: 'John Doe',
          paymentMethod: 'Credit Card',
          status: 'Completed',
          is_test: true,
        },
        {
          amount: 100,
          date: '2024-03-01',
          donor: 'John Doe',
          paymentMethod: 'Credit Card',
          status: 'Pending',
          is_test: true,
        },
      ];


    let showReceipts = false;
    // let displayFullscreen = false;

    const mgcComponent = document.querySelector('iaux-monthly-giving-circle');

    // load start data
    mgcComponent.receipts = receiptsData;

    // event handlers
    mgcComponent.addEventListener('EmailReceiptRequest', (e) => {
      // eslint-disable-next-line no-alert
      alert(`EmailReceiptRequest: ${JSON.stringify(e.detail)}`);
    });

    // options hooks
    document.getElementById('toggle-receipts').addEventListener('click', async () => {
      if (showReceipts) {
        mgcComponent.receipts = [];
        showReceipts = false;
        return;
      }
      mgcComponent.receipts = receiptsData;
      await mgcComponent.updateComplete;

      showReceipts = true;
    });
  </script>
</body>
</html>
